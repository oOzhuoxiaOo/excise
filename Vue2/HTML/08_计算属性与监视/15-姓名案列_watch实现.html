<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å§“åæ¡ˆåˆ—_watch</title>
    <!-- å¼•å…¥Vue -->
    <script src="../../JS/vue.js"></script>
    <script type="text/javascript">Vue.config.productionTip = false;//é˜»æ­¢Vue åœ¨å¯åŠ¨æ—¶äº§ç”Ÿç”Ÿäº§æç¤º </script>
    <style>
        body {
            font-size: 20px;
        }

        span {
            border: solid;
        }

        .require {
            background-color: rgb(156, 152, 152);
            /* color: aliceblue; */
        }
    </style>
</head>

<body>
       <!-- 
        ğŸ“•watchå’Œcomputedæ¯”è¾ƒ(ç›‘è§†(å¸§è§†)å’Œè®¡ç®—å±æ€§)
            1.computedèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œwatchéƒ½å¯ä»¥å®Œæˆ
            2.watchèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œcomputedä¸ä¸€å®šå®Œæˆï¼Œä¾‹å¦‚:watchcå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œ.
        ä¸¤ä¸ªé‡è¦å°åŸåˆ™:
            1.æ‰€æœ‰è¢«vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½å†™æˆæ™®é€šå‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯ vm æˆ–è€… ç»„ä»¶å®ä¾‹å¯¹è±¡(ä»¥åè¦å­¦çš„)
            2.æ‰€æœ‰ä¸è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°(å®šæ—¶å™¨çš„å›è°ƒå‡½æ•°ã€ajaxçš„å›è°ƒå‡½æ•°ã€promiseçš„å›è°ƒç­‰),æœ€å¥½å†™æˆç®­å¤´å‡½æ•°
              è¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯ vm æˆ–è€… ç»„ä»¶å®ä¾‹å¯¹è±¡
        èŒ¶æ¥¼å°é…Œ
            1.é€€å‡ºå¾ªç¯æ˜¯break,returnæ˜¯é€€å‡ºå‡½æ•°å¹¶è¿”å›, å¦‚æœå‡½æ•°æœ‰è¿”å›å€¼,å¯ä»¥å°†è¿”å›å€¼è¿”å›
     -->
    <!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ -->
    <div id="root">
        <div class="require">
            <h2>éœ€æ±‚:</h2>
            <h4>1.æ¯æ¬¡è¾“å…¥å§“å’Œåä¼šåŒæ­¥åˆ°å…¨å</h3>
                <h4>2.å…¨åä¸­,å§“æœ€å¤šæ˜¾ç¤ºä¸‰ä¸ªå­—</h4>
        </div>
        <h2>3.ä½¿ç”¨c</h2>
        <!-- é€šè¿‡ v-modelåŒå‘ç»‘å®švalueæ•°æ® -->
        è¯·è¾“å…¥å§“ <input type="text" v-model="firstName"><br><br>
        è¯·è¾“å…¥å <input type="text" v-model="lastName"><br><br>
        å…¨å:<span>{{fullName}}</span>
    </div>

    <script>
        // åˆ›å»ºVueå®ä¾‹
        const vm = new Vue({
            el: '#root',
            data: {
                firstName: 'å¤',
                lastName: 'å¨œ',
                fullName:'å¤-å¨œ'
            },
            // è®¡ç®—å±æ€§
            /* computed: {
                fullName: function () {
                    console.log('fullNameè¢«è¯»å–äº†ä¸€æ¬¡');
                    console.log('thisæŒ‡å‘', this)
                    return this.firstName + '-' + this.lastName;
                }

            } */
            watch:{
                // æ­¤å¤„ä¸éœ€è¦å¯¹fullNameè¿›è¡Œç›‘è§† å› ä¸ºä¿®æ”¹çš„æ˜¯firstNameå’ŒlastName 
                // ï¼Œè€ŒfullNameå€¼å¹¶ä¸ºå‘ç”Ÿå˜åŒ–ï¼Œæ£€æµ‹ä¸åˆ°
                firstName(newValue){
                    // 1ç§’åæ‰å‘ç”Ÿå˜åŒ–
                    // æ³¨æ„ï¼Œvmå†…å®šæ—¶å™¨å°½é‡ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå¦‚æœä¸ç”¨ç®­å¤´å‡½æ•°ï¼Œthiså°†æŒ‡å‘windows
                    // å¦‚æœä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œthiså°±ä¼šå’Œçˆ¶çº§thisæŒ‡å‘ä¸€æ ·æŒ‡å‘vm
                    setTimeout(()=>{
                        this.fullName = this.firstName + '-' + this.lastName; 
                    },1000)
                },
                lastName(newValue){
                    this.fullName = this.firstName + '-' + this.lastName; 
                }
            }
        })
    </script>
</body>

</html>