<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤©æ°”æ¡ˆåˆ—_ç›‘è§†å±æ€§</title>
    <!-- å¼•å…¥Vue -->
    <script src="../../JS/vue.js"></script>
    <script type="text/javascript">Vue.config.productionTip = false;//é˜»æ­¢Vue åœ¨å¯åŠ¨æ—¶äº§ç”Ÿç”Ÿäº§æç¤º </script>
</head>

<body>
    <!-- 
        ğŸ“•ç›‘è§†å±æ€§watch
            1.å½“ç›‘è§†çš„å±æ€§å˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°(handlerç­‰)è‡ªåŠ¨è°ƒç”¨ï¼Œè¿›è¡Œç›¸å…³æ“ä½œ
            2.ç›‘è§†çš„å±æ€§å¿…é¡»å­˜åœ¨ï¼Œæ‰èƒ½è¿›è¡Œç›‘è§†
            3.ç›‘è§†çš„ä¸¤ç§å†™æ³•
                (1).new Vueæ—¶ä¼ å…¥watché…ç½®
                (2).é€šè¿‡vm.$watchç›‘è§†
     -->

    <!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ -->
    <div id="root">
        <!-- éœ€æ±‚:
                1.ä¸€å¥è¯ï¼Œä»Šå¤©å¤©æ°”(å¾ˆçƒ­/å‡‰çˆ½)
                2.ä¸€ä¸ªæŒ‰é’®ï¼šç‚¹å‡»æŒ‰é’®ï¼Œåˆ‡æ¢å¾ˆçƒ­å’Œå‡‰çˆ½ -->
        <h1>Hello {{name}}</h1>
        <p>ä»Šå¤©å¤©æ°” {{info}} </p>
        <button @click="changeWeather">åˆ‡æ¢å¤©æ°”</button>
    </div>

    <script>
        // åˆ›å»ºVueå®ä¾‹
        const vm = new Vue({
            el: '#root',
            data: {
                name: 'xiana',
                isHot: true
            },
            methods: {
                changeWeather() {
                    this.isHot = !this.isHot;
                }
            },
            computed: {
                info: function () {
                    return this.isHot ? 'å¾ˆçƒ­' : 'å‡‰çˆ½';
                }
            },
            // ğŸ”–ç¬¬ä¸€ç§ç›‘è§†æ–¹å¼
            /*  watch:{
                 // è¦ç›‘è§†çš„å±æ€§
                 isHot:{
                     immediate:true, //åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€ä¸‹,é»˜è®¤ä¸ºfalse
                     // handlerä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿå½“isHotå‘ç”Ÿæ”¹å˜æ—¶
                     handler(newValue,oldValue){//å‚æ•°ä¸ºæ–°å€¼ã€æ—§å€¼
                         console.log('isHotè¢«æ”¹å˜äº†',newValue,oldValue);
                     }
                 }
             } */
        })
        // ğŸ”–ç¬¬äºŒç§ç›‘è§†æ–¹å¼ (æ›´çµæ´»)
        vm.$watch('isHot', {
            immediate: true, //åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€ä¸‹,é»˜è®¤ä¸ºfalse
            // handlerä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿå½“isHotå‘ç”Ÿæ”¹å˜æ—¶
            handler(newValue, oldValue) {//å‚æ•°ä¸ºæ–°å€¼ã€æ—§å€¼
                console.log('isHotè¢«æ”¹å˜äº†', newValue, oldValue);
                console.log(this);
            }
        })
    </script>
</body>

</html>